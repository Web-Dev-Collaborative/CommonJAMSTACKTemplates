<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
  <head>
    <meta charset="utf-8" />
    <meta name="generator" content="pandoc" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=yes"
    />
    <title>README</title>
    <style type="text/css">
      code {
        white-space: pre-wrap;
      }
      span.smallcaps {
        font-variant: small-caps;
      }
      span.underline {
        text-decoration: underline;
      }
      div.column {
        display: inline-block;
        vertical-align: top;
        width: 50%;
      }
    </style>
    <style type="text/css">
      a.sourceLine {
        display: inline-block;
        line-height: 1.25;
      }
      a.sourceLine {
        pointer-events: none;
        color: inherit;
        text-decoration: inherit;
      }
      a.sourceLine:empty {
        height: 1.2em;
      }
      .sourceCode {
        overflow: visible;
      }
      code.sourceCode {
        white-space: pre;
        position: relative;
      }
      div.sourceCode {
        margin: 1em 0;
      }
      pre.sourceCode {
        margin: 0;
      }
      @media screen {
        div.sourceCode {
          overflow: auto;
        }
      }
      @media print {
        code.sourceCode {
          white-space: pre-wrap;
        }
        a.sourceLine {
          text-indent: -1em;
          padding-left: 1em;
        }
      }
      pre.numberSource a.sourceLine {
        position: relative;
        left: -4em;
      }
      pre.numberSource a.sourceLine::before {
        content: attr(title);
        position: relative;
        left: -1em;
        text-align: right;
        vertical-align: baseline;
        border: none;
        pointer-events: all;
        display: inline-block;
        -webkit-touch-callout: none;
        -webkit-user-select: none;
        -khtml-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        padding: 0 4px;
        width: 4em;
        color: #aaaaaa;
      }
      pre.numberSource {
        margin-left: 3em;
        border-left: 1px solid #aaaaaa;
        padding-left: 4px;
      }
      div.sourceCode {
      }
      @media screen {
        a.sourceLine::before {
          text-decoration: underline;
        }
      }
      code span.al {
        color: #ff0000;
        font-weight: bold;
      } /* Alert */
      code span.an {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* Annotation */
      code span.at {
        color: #7d9029;
      } /* Attribute */
      code span.bn {
        color: #40a070;
      } /* BaseN */
      code span.bu {
      } /* BuiltIn */
      code span.cf {
        color: #007020;
        font-weight: bold;
      } /* ControlFlow */
      code span.ch {
        color: #4070a0;
      } /* Char */
      code span.cn {
        color: #880000;
      } /* Constant */
      code span.co {
        color: #60a0b0;
        font-style: italic;
      } /* Comment */
      code span.cv {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* CommentVar */
      code span.do {
        color: #ba2121;
        font-style: italic;
      } /* Documentation */
      code span.dt {
        color: #902000;
      } /* DataType */
      code span.dv {
        color: #40a070;
      } /* DecVal */
      code span.er {
        color: #ff0000;
        font-weight: bold;
      } /* Error */
      code span.ex {
      } /* Extension */
      code span.fl {
        color: #40a070;
      } /* Float */
      code span.fu {
        color: #06287e;
      } /* Function */
      code span.im {
      } /* Import */
      code span.in {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* Information */
      code span.kw {
        color: #007020;
        font-weight: bold;
      } /* Keyword */
      code span.op {
        color: #666666;
      } /* Operator */
      code span.ot {
        color: #007020;
      } /* Other */
      code span.pp {
        color: #bc7a00;
      } /* Preprocessor */
      code span.sc {
        color: #4070a0;
      } /* SpecialChar */
      code span.ss {
        color: #bb6688;
      } /* SpecialString */
      code span.st {
        color: #4070a0;
      } /* String */
      code span.va {
        color: #19177c;
      } /* Variable */
      code span.vs {
        color: #4070a0;
      } /* VerbatimString */
      code span.wa {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* Warning */
    </style>
  </head>
  <body>
    <h1 id="example-app-with-styled-components">
      Example app with styled-components
    </h1>
    <p>
      This example features how you use a different styling solution than
      <a href="https://github.com/zeit/styled-jsx">styled-jsx</a> that also
      supports universal styles. That means we can serve the required styles for
      the first render within the HTML and then load the rest in the client. In
      this case we are using
      <a href="https://github.com/styled-components/styled-components"
        >styled-components</a
      >.
    </p>
    <p>
      For this purpose we are extending the <code>&lt;Document /&gt;</code> and
      injecting the server side rendered styles into the
      <code>&lt;head&gt;</code>, and also adding the
      <code>babel-plugin-styled-components</code> (which is required for server
      side rendering). Additionally we set up a global
      <a href="https://www.styled-components.com/docs/advanced#theming"
        >theme</a
      >
      for styled-components using NextJS custom
      <a href="https://nextjs.org/docs/advanced-features/custom-app"
        ><code>&lt;App&gt;</code></a
      >
      component.
    </p>
    <h2 id="deploy-your-own">Deploy your own</h2>
    <p>
      Deploy the example using
      <a
        href="https://vercel.com?utm_source=github&amp;utm_medium=readme&amp;utm_campaign=next-example"
        >Vercel</a
      >:
    </p>
    <p>
      <a
        href="https://vercel.com/new/git/external?repository-url=https://github.com/vercel/next.js/tree/canary/examples/with-styled-components&amp;project-name=with-styled-components&amp;repository-name=with-styled-components"
        ><img src="https://vercel.com/button" alt="Deploy with Vercel"
      /></a>
    </p>
    <h2 id="how-to-use">How to use</h2>
    <p>
      Execute
      <a
        href="https://github.com/vercel/next.js/tree/canary/packages/create-next-app"
        ><code>create-next-app</code></a
      >
      with <a href="https://docs.npmjs.com/cli/init">npm</a> or
      <a href="https://yarnpkg.com/lang/en/docs/cli/create/">Yarn</a> to
      bootstrap the example:
    </p>
    <div class="sourceCode" id="cb1">
      <pre
        class="sourceCode bash"
      ><code class="sourceCode bash"><a class="sourceLine" id="cb1-1" title="1"><span class="ex">npx</span> create-next-app --example with-styled-components with-styled-components-app</a>
<a class="sourceLine" id="cb1-2" title="2"><span class="co"># or</span></a>
<a class="sourceLine" id="cb1-3" title="3"><span class="ex">yarn</span> create next-app --example with-styled-components with-styled-components-app</a></code></pre>
    </div>
    <p>
      Deploy it to the cloud with
      <a
        href="https://vercel.com/new?utm_source=github&amp;utm_medium=readme&amp;utm_campaign=next-example"
        >Vercel</a
      >
      (<a href="https://nextjs.org/docs/deployment">Documentation</a>).
    </p>
    <h3 id="try-it-on-codesandbox">Try it on CodeSandbox</h3>
    <p>
      <a
        href="https://codesandbox.io/s/github/vercel/next.js/tree/canary/examples/with-styled-components"
        >Open this example on CodeSandbox</a
      >
    </p>
    <h3 id="notes">Notes</h3>
    <p>
      When wrapping a
      <a href="https://nextjs.org/docs/api-reference/next/link">Link</a> from
      <code>next/link</code> within a styled-component, the
      <a href="https://styled-components.com/docs/api#as-polymorphic-prop"
        >as</a
      >
      prop provided by <code>styled</code> will collide with the Linkâ€™s
      <code>as</code> prop and cause styled-components to throw an
      <code>Invalid tag</code> error. To avoid this, you can either use the
      recommended
      <a href="https://styled-components.com/docs/api#forwardedas-prop"
        >forwardedAs</a
      >
      prop from styled-components or use a different named prop to pass to a
      <code>styled</code> Link.
    </p>
    <details>
      <p>
        <summary>Click to expand workaround example</summary>
        <br />
      </p>
      <p><strong>components/StyledLink.js</strong></p>
      <div class="sourceCode" id="cb2">
        <pre
          class="sourceCode javascript"
        ><code class="sourceCode javascript"><a class="sourceLine" id="cb2-1" title="1"><span class="im">import</span> Link <span class="im">from</span> <span class="st">&#39;next/link&#39;</span></a>
<a class="sourceLine" id="cb2-2" title="2"><span class="im">import</span> styled <span class="im">from</span> <span class="st">&#39;styled-components&#39;</span></a>
<a class="sourceLine" id="cb2-3" title="3"></a>
<a class="sourceLine" id="cb2-4" title="4"><span class="kw">const</span> StyledLink <span class="op">=</span> (<span class="op">{</span> <span class="im">as</span><span class="op">,</span> children<span class="op">,</span> className<span class="op">,</span> href <span class="op">}</span>) <span class="kw">=&gt;</span> (</a>
<a class="sourceLine" id="cb2-5" title="5">  <span class="op">&lt;</span>Link href<span class="op">={</span>href<span class="op">}</span> <span class="im">as</span><span class="op">={</span><span class="im">as</span><span class="op">}</span> passHref<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb2-6" title="6">    <span class="op">&lt;</span>a className<span class="op">={</span>className<span class="op">}&gt;{</span>children<span class="op">}</span>&lt;/a<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb2-7" title="7">  &lt;/Link<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb2-8" title="8">)</a>
<a class="sourceLine" id="cb2-9" title="9"></a>
<a class="sourceLine" id="cb2-10" title="10"><span class="im">export</span> <span class="im">default</span> <span class="at">styled</span>(StyledLink)<span class="vs">`</span></a>
<a class="sourceLine" id="cb2-11" title="11"><span class="vs">  color: #0075e0;</span></a>
<a class="sourceLine" id="cb2-12" title="12"><span class="vs">  text-decoration: none;</span></a>
<a class="sourceLine" id="cb2-13" title="13"><span class="vs">  transition: all 0.2s ease-in-out;</span></a>
<a class="sourceLine" id="cb2-14" title="14"></a>
<a class="sourceLine" id="cb2-15" title="15"><span class="vs">  &amp;:hover {</span></a>
<a class="sourceLine" id="cb2-16" title="16"><span class="vs">    color: #40a9ff;</span></a>
<a class="sourceLine" id="cb2-17" title="17"><span class="vs">  }</span></a>
<a class="sourceLine" id="cb2-18" title="18"></a>
<a class="sourceLine" id="cb2-19" title="19"><span class="vs">  &amp;:focus {</span></a>
<a class="sourceLine" id="cb2-20" title="20"><span class="vs">    color: #40a9ff;</span></a>
<a class="sourceLine" id="cb2-21" title="21"><span class="vs">    outline: none;</span></a>
<a class="sourceLine" id="cb2-22" title="22"><span class="vs">    border: 0;</span></a>
<a class="sourceLine" id="cb2-23" title="23"><span class="vs">  }</span></a>
<a class="sourceLine" id="cb2-24" title="24"><span class="vs">`</span></a></code></pre>
      </div>
      <p><strong>pages/index.js</strong></p>
      <div class="sourceCode" id="cb3">
        <pre
          class="sourceCode javascript"
        ><code class="sourceCode javascript"><a class="sourceLine" id="cb3-1" title="1"><span class="im">import</span> StyledLink <span class="im">from</span> <span class="st">&#39;../components/StyledLink&#39;</span></a>
<a class="sourceLine" id="cb3-2" title="2"></a>
<a class="sourceLine" id="cb3-3" title="3"><span class="im">export</span> <span class="im">default</span> () <span class="kw">=&gt;</span> (</a>
<a class="sourceLine" id="cb3-4" title="4">  <span class="op">&lt;</span>StyledLink href<span class="op">=</span><span class="st">&quot;/post/[pid]&quot;</span> forwardedAs<span class="op">=</span><span class="st">&quot;/post/abc&quot;</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb3-5" title="5">    First post</a>
<a class="sourceLine" id="cb3-6" title="6">  &lt;/StyledLink<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb3-7" title="7">)</a></code></pre>
      </div>
    </details>
  </body>
</html>
