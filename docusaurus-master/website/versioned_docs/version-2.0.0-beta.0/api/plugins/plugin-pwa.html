<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
  <head>
    <meta charset="utf-8" />
    <meta name="generator" content="pandoc" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=yes"
    />
    <title>üì¶ plugin-pwa</title>
    <style type="text/css">
      code {
        white-space: pre-wrap;
      }
      span.smallcaps {
        font-variant: small-caps;
      }
      span.underline {
        text-decoration: underline;
      }
      div.column {
        display: inline-block;
        vertical-align: top;
        width: 50%;
      }
    </style>
    <style type="text/css">
      a.sourceLine {
        display: inline-block;
        line-height: 1.25;
      }
      a.sourceLine {
        pointer-events: none;
        color: inherit;
        text-decoration: inherit;
      }
      a.sourceLine:empty {
        height: 1.2em;
      }
      .sourceCode {
        overflow: visible;
      }
      code.sourceCode {
        white-space: pre;
        position: relative;
      }
      div.sourceCode {
        margin: 1em 0;
      }
      pre.sourceCode {
        margin: 0;
      }
      @media screen {
        div.sourceCode {
          overflow: auto;
        }
      }
      @media print {
        code.sourceCode {
          white-space: pre-wrap;
        }
        a.sourceLine {
          text-indent: -1em;
          padding-left: 1em;
        }
      }
      pre.numberSource a.sourceLine {
        position: relative;
        left: -4em;
      }
      pre.numberSource a.sourceLine::before {
        content: attr(title);
        position: relative;
        left: -1em;
        text-align: right;
        vertical-align: baseline;
        border: none;
        pointer-events: all;
        display: inline-block;
        -webkit-touch-callout: none;
        -webkit-user-select: none;
        -khtml-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        padding: 0 4px;
        width: 4em;
        color: #aaaaaa;
      }
      pre.numberSource {
        margin-left: 3em;
        border-left: 1px solid #aaaaaa;
        padding-left: 4px;
      }
      div.sourceCode {
      }
      @media screen {
        a.sourceLine::before {
          text-decoration: underline;
        }
      }
      code span.al {
        color: #ff0000;
        font-weight: bold;
      } /* Alert */
      code span.an {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* Annotation */
      code span.at {
        color: #7d9029;
      } /* Attribute */
      code span.bn {
        color: #40a070;
      } /* BaseN */
      code span.bu {
      } /* BuiltIn */
      code span.cf {
        color: #007020;
        font-weight: bold;
      } /* ControlFlow */
      code span.ch {
        color: #4070a0;
      } /* Char */
      code span.cn {
        color: #880000;
      } /* Constant */
      code span.co {
        color: #60a0b0;
        font-style: italic;
      } /* Comment */
      code span.cv {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* CommentVar */
      code span.do {
        color: #ba2121;
        font-style: italic;
      } /* Documentation */
      code span.dt {
        color: #902000;
      } /* DataType */
      code span.dv {
        color: #40a070;
      } /* DecVal */
      code span.er {
        color: #ff0000;
        font-weight: bold;
      } /* Error */
      code span.ex {
      } /* Extension */
      code span.fl {
        color: #40a070;
      } /* Float */
      code span.fu {
        color: #06287e;
      } /* Function */
      code span.im {
      } /* Import */
      code span.in {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* Information */
      code span.kw {
        color: #007020;
        font-weight: bold;
      } /* Keyword */
      code span.op {
        color: #666666;
      } /* Operator */
      code span.ot {
        color: #007020;
      } /* Other */
      code span.pp {
        color: #bc7a00;
      } /* Preprocessor */
      code span.sc {
        color: #4070a0;
      } /* SpecialChar */
      code span.ss {
        color: #bb6688;
      } /* SpecialString */
      code span.st {
        color: #4070a0;
      } /* String */
      code span.va {
        color: #19177c;
      } /* Variable */
      code span.vs {
        color: #4070a0;
      } /* VerbatimString */
      code span.wa {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* Warning */
    </style>
  </head>
  <body>
    <header id="title-block-header">
      <h1 class="title">üì¶ plugin-pwa</h1>
    </header>
    <p>
      Docusaurus Plugin to add PWA support using
      <a href="https://developers.google.com/web/tools/workbox">Workbox</a>.
      This plugin generates a
      <a
        href="https://developers.google.com/web/fundamentals/primers/service-workers"
        >Service Worker</a
      >
      in production build only, and allows you to create fully PWA-compliant
      documentation site with offline and installation support.
    </p>
    <h2 id="installation">Installation</h2>
    <p><code>bash npm2yarn npm install --save @docusaurus/plugin-pwa</code></p>
    <h2 id="configuration">Configuration</h2>
    <p>
      Create a <a href="https://web.dev/add-manifest/">PWA manifest</a> at
      <code>./static/manifest.json</code>.
    </p>
    <p>
      Modify <code>docusaurus.config.js</code> with a minimal PWA config, like:
    </p>
    <p>
      <code
        >js title="docusaurus.config.js" module.exports = { plugins: [ [
        '@docusaurus/plugin-pwa', { debug: true,
        offlineModeActivationStrategies: [ 'appInstalled', 'standalone',
        'queryString', ], pwaHead: [ { tagName: 'link', rel: 'icon', href:
        '/img/docusaurus.png', }, { tagName: 'link', rel: 'manifest', href:
        '/manifest.json', // your PWA manifest }, { tagName: 'meta', name:
        'theme-color', content: 'rgb(37, 194, 160)', }, ], }, ], ], };</code
      >
    </p>
    <h2 id="progressive-web-app">Progressive Web App</h2>
    <p>
      Having a service worker installed is not enough to make your application a
      PWA. You‚Äôll need to at least include a
      <a href="https://developer.mozilla.org/en-US/docs/Web/Manifest"
        >Web App Manifest</a
      >
      and have the correct tags in <code>&lt;head&gt;</code> (<a href="#pwahead"
        >Options &gt; pwaHead</a
      >).
    </p>
    <p>
      After deployment, you can use
      <a href="https://developers.google.com/web/tools/lighthouse"
        >Lighthouse</a
      >
      to run an audit on your site.
    </p>
    <p>
      For a more exhaustive list of what it takes for your site to be a PWA,
      refer to the
      <a href="https://developers.google.com/web/progressive-web-apps/checklist"
        >PWA Checklist</a
      >
    </p>
    <h2 id="app-installation-support">App installation support</h2>
    <p>
      If your browser supports it, you should be able to install a Docusaurus
      site as an app.
    </p>
    <figure>
      <img src="/img/pwa_install.gif" alt="pwa_install.gif" />
      <figcaption>pwa_install.gif</figcaption>
    </figure>
    <div class="note">
      <p>App installation requires the https protocol and a valid manifest.</p>
    </div>
    <h2 id="offline-mode-precaching">Offline mode (precaching)</h2>
    <p>
      We enable users to browse a Docusaurus site offline, by using
      service-worker precaching.
    </p>
    <blockquote>
      <h3 id="what-is-precaching">
        <a
          href="https://developers.google.com/web/tools/workbox/modules/workbox-precaching"
          >What is Precaching?</a
        >
      </h3>
      <p>
        One feature of service workers is the ability to save a set of files to
        the cache when the service worker is installing. This is often referred
        to as ‚Äúprecaching‚Äù, since you are caching content ahead of the service
        worker being used.
      </p>
      <p>
        The main reason for doing this is that it gives developers control over
        the cache, meaning they can determine when and how long a file is cached
        as well as serve it to the browser without going to the network, meaning
        it can be used to create web apps that work offline.
      </p>
      <p>
        Workbox takes a lot of the heavy lifting out of precaching by
        simplifying the API and ensuring assets are downloaded efficiently.
      </p>
    </blockquote>
    <p>
      By default, offline mode is enabled when the site is installed as an app.
      See the <code>offlineModeActivationStrategies</code> option for details.
    </p>
    <p>
      After the site has been precached, the service worker will serve cached
      responses for later visits. When a new build is deployed along with a new
      service worker, the new one will begin installing and eventually move to a
      waiting state. During this waiting state, a reload popup will show and ask
      the user to reload the page for new content. Until the user either clears
      the application cache or clicks the <code>reload</code> button on the
      popup, the service worker will continue serving the old content.
    </p>
    <div class="caution">
      <p>
        Offline mode / precaching requires downloading all the static assets of
        the site ahead of time, and can consume unnecessary bandwidth. It may
        not be a good idea to activate it for all kind of sites.
      </p>
    </div>
    <h2 id="options">Options</h2>
    <h3 id="debug"><code>debug</code></h3>
    <ul>
      <li>Type: <code>boolean</code></li>
      <li>Default: <code>false</code></li>
    </ul>
    <p>Turn debug mode on:</p>
    <ul>
      <li>Workbox logs</li>
      <li>Additional Docusaurus logs</li>
      <li>Unoptimized SW file output</li>
      <li>Source maps</li>
    </ul>
    <h3 id="offlinemodeactivationstrategies">
      <code>offlineModeActivationStrategies</code>
    </h3>
    <ul>
      <li>
        Type:
        <code
          >Array&lt;'appInstalled' | 'mobile' | 'saveData'| 'queryString' |
          'always'&gt;</code
        >
      </li>
      <li>Default: <code>['appInstalled','queryString','standalone']</code></li>
    </ul>
    <p>Strategies used to turn the offline mode on:</p>
    <ul>
      <li>
        <code>appInstalled</code>: activates for users having installed the site
        as an app (not 100% reliable)
      </li>
      <li>
        <code>standalone</code>: activates for users running the app as
        standalone (often the case once a PWA is installed)
      </li>
      <li>
        <code>queryString</code>: activates if queryString contains
        <code>offlineMode=true</code> (convenient for PWA debugging)
      </li>
      <li>
        <code>mobile</code>: activates for mobile users (width &lt;= 940px)
      </li>
      <li>
        <code>saveData</code>: activates for users with
        <code>navigator.connection.saveData === true</code>
      </li>
      <li><code>always</code>: activates for all users</li>
    </ul>
    <div class="caution">
      <p>
        Use this carefully: some users may not like to be forced to use the
        offline mode.
      </p>
    </div>
    <div class="danger">
      <p>It is not possible to detect if an as a PWA in a very reliable way.</p>
      <p>
        The <code>appinstalled</code> event has been
        <a href="https://github.com/w3c/manifest/pull/836"
          >removed from the specification</a
        >, and the
        <a href="https://web.dev/get-installed-related-apps/"
          ><code>navigator.getInstalledRelatedApps()</code></a
        >
        API is only supported in recent Chrome versions and require
        <code>related_applications</code> declared in the manifest.
      </p>
      <p>
        The
        <a href="https://petelepage.com/blog/2019/07/is-my-pwa-installed/"
          ><code>standalone</code> strategy</a
        >
        is a nice fallback to activate the offline mode (at least when running
        the installed app).
      </p>
    </div>
    <h3 id="injectmanifestconfig"><code>injectManifestConfig</code></h3>
    <p>
      <a
        href="https://developers.google.com/web/tools/workbox/reference-docs/latest/module-workbox-build#.injectManifest"
        >Workbox options</a
      >
      to pass to <code>workbox.injectManifest()</code>. This gives you control
      over which assets will be precached, and be available offline.
    </p>
    <ul>
      <li>Type: <code>InjectManifestOptions</code></li>
      <li>Default: <code>{}</code></li>
    </ul>
    <p>
      <code
        >js title="docusaurus.config.js" module.exports = { plugins: [ [
        '@docusaurus/plugin-pwa', { injectManifestConfig: { manifestTransforms:
        [ //... ], modifyURLPrefix: { //... }, // We already add regular static
        assets (html, images...) to be available offline // You can add more
        files according to your needs globPatterns: ['**/*.{pdf,docx,xlsx}'], //
        ... }, }, ], ], };</code
      >
    </p>
    <h3 id="reloadpopup"><code>reloadPopup</code></h3>
    <ul>
      <li>Type: <code>string | false</code></li>
      <li>Default: <code>'@theme/PwaReloadPopup'</code></li>
    </ul>
    <p>
      Module path to reload popup component. This popup is rendered when a new
      service worker is waiting to be installed, and we suggest a reload to the
      user.
    </p>
    <p>
      Passing <code>false</code> will disable the popup, but this is not
      recommended: users won‚Äôt have a way to get up-to-date content.
    </p>
    <p>
      A custom component can be used, as long as it accepts
      <code>onReload</code> as a prop. The <code>onReload</code> callback should
      be called when the <code>reload</code> button is clicked. This will tell
      the service worker to install the waiting service worker and reload the
      page.
    </p>
    <div class="sourceCode" id="cb1">
      <pre
        class="sourceCode ts"
      ><code class="sourceCode typescript"><a class="sourceLine" id="cb1-1" title="1"><span class="kw">interface</span> PwaReloadPopupProps <span class="op">{</span></a>
<a class="sourceLine" id="cb1-2" title="2">  onReload<span class="op">:</span> () <span class="kw">=&gt;</span> <span class="dt">void</span><span class="op">;</span></a>
<a class="sourceLine" id="cb1-3" title="3"><span class="op">}</span></a></code></pre>
    </div>
    <p>
      The default theme includes an implementation for the reload popup and uses
      <a href="https://infima.dev/docs/components/alert">Infima Alerts</a>.
    </p>
    <figure>
      <img src="/img/pwa_reload.gif" alt="pwa_reload.gif" />
      <figcaption>pwa_reload.gif</figcaption>
    </figure>
    <h3 id="pwahead"><code>pwaHead</code></h3>
    <ul>
      <li>
        Type:
        <code
          >Array&lt;{ tagName: string } &amp;
          Record&lt;string,string&gt;&gt;</code
        >
      </li>
      <li>Default: <code>[]</code></li>
    </ul>
    <p>
      Array of objects containing <code>tagName</code> and key-value pairs for
      attributes to inject into the <code>&lt;head&gt;</code> tag. Technically
      you can inject any head tag through this, but it‚Äôs ideally used for tags
      to make your site PWA compliant. Here‚Äôs a list of tag to make your app
      fully compliant:
    </p>
    <div class="sourceCode" id="cb2">
      <pre
        class="sourceCode js"
      ><code class="sourceCode javascript"><a class="sourceLine" id="cb2-1" title="1"><span class="va">module</span>.<span class="at">exports</span> <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb2-2" title="2">  <span class="dt">plugins</span><span class="op">:</span> [</a>
<a class="sourceLine" id="cb2-3" title="3">    [</a>
<a class="sourceLine" id="cb2-4" title="4">      <span class="st">&#39;@docusaurus/plugin-pwa&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-5" title="5">      <span class="op">{</span></a>
<a class="sourceLine" id="cb2-6" title="6">        <span class="dt">pwaHead</span><span class="op">:</span> [</a>
<a class="sourceLine" id="cb2-7" title="7">          <span class="op">{</span></a>
<a class="sourceLine" id="cb2-8" title="8">            <span class="dt">tagName</span><span class="op">:</span> <span class="st">&#39;link&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-9" title="9">            <span class="dt">rel</span><span class="op">:</span> <span class="st">&#39;icon&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-10" title="10">            <span class="dt">href</span><span class="op">:</span> <span class="st">&#39;/img/docusaurus.png&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-11" title="11">          <span class="op">},</span></a>
<a class="sourceLine" id="cb2-12" title="12">          <span class="op">{</span></a>
<a class="sourceLine" id="cb2-13" title="13">            <span class="dt">tagName</span><span class="op">:</span> <span class="st">&#39;link&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-14" title="14">            <span class="dt">rel</span><span class="op">:</span> <span class="st">&#39;manifest&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-15" title="15">            <span class="dt">href</span><span class="op">:</span> <span class="st">&#39;/manifest.json&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-16" title="16">          <span class="op">},</span></a>
<a class="sourceLine" id="cb2-17" title="17">          <span class="op">{</span></a>
<a class="sourceLine" id="cb2-18" title="18">            <span class="dt">tagName</span><span class="op">:</span> <span class="st">&#39;meta&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-19" title="19">            <span class="dt">name</span><span class="op">:</span> <span class="st">&#39;theme-color&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-20" title="20">            <span class="dt">content</span><span class="op">:</span> <span class="st">&#39;rgb(37, 194, 160)&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-21" title="21">          <span class="op">},</span></a>
<a class="sourceLine" id="cb2-22" title="22">          <span class="op">{</span></a>
<a class="sourceLine" id="cb2-23" title="23">            <span class="dt">tagName</span><span class="op">:</span> <span class="st">&#39;meta&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-24" title="24">            <span class="dt">name</span><span class="op">:</span> <span class="st">&#39;apple-mobile-web-app-capable&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-25" title="25">            <span class="dt">content</span><span class="op">:</span> <span class="st">&#39;yes&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-26" title="26">          <span class="op">},</span></a>
<a class="sourceLine" id="cb2-27" title="27">          <span class="op">{</span></a>
<a class="sourceLine" id="cb2-28" title="28">            <span class="dt">tagName</span><span class="op">:</span> <span class="st">&#39;meta&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-29" title="29">            <span class="dt">name</span><span class="op">:</span> <span class="st">&#39;apple-mobile-web-app-status-bar-style&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-30" title="30">            <span class="dt">content</span><span class="op">:</span> <span class="st">&#39;#000&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-31" title="31">          <span class="op">},</span></a>
<a class="sourceLine" id="cb2-32" title="32">          <span class="op">{</span></a>
<a class="sourceLine" id="cb2-33" title="33">            <span class="dt">tagName</span><span class="op">:</span> <span class="st">&#39;link&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-34" title="34">            <span class="dt">rel</span><span class="op">:</span> <span class="st">&#39;apple-touch-icon&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-35" title="35">            <span class="dt">href</span><span class="op">:</span> <span class="st">&#39;/img/docusaurus.png&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-36" title="36">          <span class="op">},</span></a>
<a class="sourceLine" id="cb2-37" title="37">          <span class="op">{</span></a>
<a class="sourceLine" id="cb2-38" title="38">            <span class="dt">tagName</span><span class="op">:</span> <span class="st">&#39;link&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-39" title="39">            <span class="dt">rel</span><span class="op">:</span> <span class="st">&#39;mask-icon&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-40" title="40">            <span class="dt">href</span><span class="op">:</span> <span class="st">&#39;/img/docusaurus.svg&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-41" title="41">            <span class="dt">color</span><span class="op">:</span> <span class="st">&#39;rgb(37, 194, 160)&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-42" title="42">          <span class="op">},</span></a>
<a class="sourceLine" id="cb2-43" title="43">          <span class="op">{</span></a>
<a class="sourceLine" id="cb2-44" title="44">            <span class="dt">tagName</span><span class="op">:</span> <span class="st">&#39;meta&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-45" title="45">            <span class="dt">name</span><span class="op">:</span> <span class="st">&#39;msapplication-TileImage&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-46" title="46">            <span class="dt">content</span><span class="op">:</span> <span class="st">&#39;/img/docusaurus.png&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-47" title="47">          <span class="op">},</span></a>
<a class="sourceLine" id="cb2-48" title="48">          <span class="op">{</span></a>
<a class="sourceLine" id="cb2-49" title="49">            <span class="dt">tagName</span><span class="op">:</span> <span class="st">&#39;meta&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-50" title="50">            <span class="dt">name</span><span class="op">:</span> <span class="st">&#39;msapplication-TileColor&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-51" title="51">            <span class="dt">content</span><span class="op">:</span> <span class="st">&#39;#000&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-52" title="52">          <span class="op">},</span></a>
<a class="sourceLine" id="cb2-53" title="53">        ]<span class="op">,</span></a>
<a class="sourceLine" id="cb2-54" title="54">      <span class="op">},</span></a>
<a class="sourceLine" id="cb2-55" title="55">    ]<span class="op">,</span></a>
<a class="sourceLine" id="cb2-56" title="56">  ]<span class="op">,</span></a>
<a class="sourceLine" id="cb2-57" title="57"><span class="op">};</span></a></code></pre>
    </div>
    <h3 id="swcustom"><code>swCustom</code></h3>
    <ul>
      <li>Type: <code>string | undefined</code></li>
      <li>Default: <code>undefined</code></li>
    </ul>
    <p>
      Useful for additional Workbox rules. You can do whatever a service worker
      can do here, and use the full power of workbox libraries. The code is
      transpiled, so you can use modern ES6+ syntax here.
    </p>
    <p>For example, to cache files from external routes:</p>
    <div class="sourceCode" id="cb3">
      <pre
        class="sourceCode js"
      ><code class="sourceCode javascript"><a class="sourceLine" id="cb3-1" title="1"><span class="im">import</span> <span class="op">{</span>registerRoute<span class="op">}</span> <span class="im">from</span> <span class="st">&#39;workbox-routing&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb3-2" title="2"><span class="im">import</span> <span class="op">{</span>StaleWhileRevalidate<span class="op">}</span> <span class="im">from</span> <span class="st">&#39;workbox-strategies&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb3-3" title="3"></a>
<a class="sourceLine" id="cb3-4" title="4"><span class="co">// default fn export receiving some useful params</span></a>
<a class="sourceLine" id="cb3-5" title="5"><span class="im">export</span> <span class="im">default</span> <span class="kw">function</span> <span class="at">swCustom</span>(params) <span class="op">{</span></a>
<a class="sourceLine" id="cb3-6" title="6">  <span class="kw">const</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb3-7" title="7">    debug<span class="op">,</span> <span class="co">// :boolean</span></a>
<a class="sourceLine" id="cb3-8" title="8">    offlineMode<span class="op">,</span> <span class="co">// :boolean</span></a>
<a class="sourceLine" id="cb3-9" title="9">  <span class="op">}</span> <span class="op">=</span> params<span class="op">;</span></a>
<a class="sourceLine" id="cb3-10" title="10"></a>
<a class="sourceLine" id="cb3-11" title="11">  <span class="co">// Cache responses from external resources</span></a>
<a class="sourceLine" id="cb3-12" title="12">  <span class="at">registerRoute</span>((context) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb3-13" title="13">    <span class="cf">return</span> [</a>
<a class="sourceLine" id="cb3-14" title="14">      <span class="ss">/graph</span><span class="sc">\.</span><span class="ss">facebook</span><span class="sc">\.</span><span class="ss">com</span><span class="sc">\/</span><span class="ss">.</span><span class="sc">*\/</span><span class="ss">picture/</span><span class="op">,</span></a>
<a class="sourceLine" id="cb3-15" title="15">      <span class="ss">/netlify</span><span class="sc">\.</span><span class="ss">com</span><span class="sc">\/</span><span class="ss">img/</span><span class="op">,</span></a>
<a class="sourceLine" id="cb3-16" title="16">      <span class="ss">/avatars1</span><span class="sc">\.</span><span class="ss">githubusercontent/</span><span class="op">,</span></a>
<a class="sourceLine" id="cb3-17" title="17">    ].<span class="at">some</span>((regex) <span class="kw">=&gt;</span> <span class="va">context</span>.<span class="va">url</span>.<span class="va">href</span>.<span class="at">match</span>(regex))<span class="op">;</span></a>
<a class="sourceLine" id="cb3-18" title="18">  <span class="op">},</span> <span class="kw">new</span> <span class="at">StaleWhileRevalidate</span>())<span class="op">;</span></a>
<a class="sourceLine" id="cb3-19" title="19"><span class="op">}</span></a></code></pre>
    </div>
    <p>
      The module should have a <code>default</code> function export, and
      receives some params.
    </p>
    <h3 id="swregister"><code>swRegister</code></h3>
    <ul>
      <li>Type: <code>string | false</code></li>
      <li>Default: <code>'docusaurus-plugin-pwa/src/registerSW.js'</code></li>
    </ul>
    <p>
      Adds an entry before the Docusaurus app so that registration can happen
      before the app runs. The default <code>registerSW.js</code> file is enough
      for simple registration.
    </p>
    <p>Passing <code>false</code> will disable registration entirely.</p>
    <h2 id="manifest-example">Manifest example</h2>
    <p>The Docusaurus site manifest can serve as an inspiration:</p>
    <pre
      class="mdx-code-block"
    ><code>import CodeBlock from &#39;@theme/CodeBlock&#39;;

&lt;CodeBlock className=&quot;language-json&quot;&gt;
  {JSON.stringify(require(&quot;@site/static/manifest.json&quot;),null,2)}
&lt;/CodeBlock&gt;</code></pre>
  </body>
</html>
