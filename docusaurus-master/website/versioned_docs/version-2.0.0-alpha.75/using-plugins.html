<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
  <head>
    <meta charset="utf-8" />
    <meta name="generator" content="pandoc" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=yes"
    />
    <title>Plugins</title>
    <style type="text/css">
      code {
        white-space: pre-wrap;
      }
      span.smallcaps {
        font-variant: small-caps;
      }
      span.underline {
        text-decoration: underline;
      }
      div.column {
        display: inline-block;
        vertical-align: top;
        width: 50%;
      }
    </style>
    <style type="text/css">
      a.sourceLine {
        display: inline-block;
        line-height: 1.25;
      }
      a.sourceLine {
        pointer-events: none;
        color: inherit;
        text-decoration: inherit;
      }
      a.sourceLine:empty {
        height: 1.2em;
      }
      .sourceCode {
        overflow: visible;
      }
      code.sourceCode {
        white-space: pre;
        position: relative;
      }
      div.sourceCode {
        margin: 1em 0;
      }
      pre.sourceCode {
        margin: 0;
      }
      @media screen {
        div.sourceCode {
          overflow: auto;
        }
      }
      @media print {
        code.sourceCode {
          white-space: pre-wrap;
        }
        a.sourceLine {
          text-indent: -1em;
          padding-left: 1em;
        }
      }
      pre.numberSource a.sourceLine {
        position: relative;
        left: -4em;
      }
      pre.numberSource a.sourceLine::before {
        content: attr(title);
        position: relative;
        left: -1em;
        text-align: right;
        vertical-align: baseline;
        border: none;
        pointer-events: all;
        display: inline-block;
        -webkit-touch-callout: none;
        -webkit-user-select: none;
        -khtml-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        padding: 0 4px;
        width: 4em;
        color: #aaaaaa;
      }
      pre.numberSource {
        margin-left: 3em;
        border-left: 1px solid #aaaaaa;
        padding-left: 4px;
      }
      div.sourceCode {
      }
      @media screen {
        a.sourceLine::before {
          text-decoration: underline;
        }
      }
      code span.al {
        color: #ff0000;
        font-weight: bold;
      } /* Alert */
      code span.an {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* Annotation */
      code span.at {
        color: #7d9029;
      } /* Attribute */
      code span.bn {
        color: #40a070;
      } /* BaseN */
      code span.bu {
      } /* BuiltIn */
      code span.cf {
        color: #007020;
        font-weight: bold;
      } /* ControlFlow */
      code span.ch {
        color: #4070a0;
      } /* Char */
      code span.cn {
        color: #880000;
      } /* Constant */
      code span.co {
        color: #60a0b0;
        font-style: italic;
      } /* Comment */
      code span.cv {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* CommentVar */
      code span.do {
        color: #ba2121;
        font-style: italic;
      } /* Documentation */
      code span.dt {
        color: #902000;
      } /* DataType */
      code span.dv {
        color: #40a070;
      } /* DecVal */
      code span.er {
        color: #ff0000;
        font-weight: bold;
      } /* Error */
      code span.ex {
      } /* Extension */
      code span.fl {
        color: #40a070;
      } /* Float */
      code span.fu {
        color: #06287e;
      } /* Function */
      code span.im {
      } /* Import */
      code span.in {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* Information */
      code span.kw {
        color: #007020;
        font-weight: bold;
      } /* Keyword */
      code span.op {
        color: #666666;
      } /* Operator */
      code span.ot {
        color: #007020;
      } /* Other */
      code span.pp {
        color: #bc7a00;
      } /* Preprocessor */
      code span.sc {
        color: #4070a0;
      } /* SpecialChar */
      code span.ss {
        color: #bb6688;
      } /* SpecialString */
      code span.st {
        color: #4070a0;
      } /* String */
      code span.va {
        color: #19177c;
      } /* Variable */
      code span.vs {
        color: #4070a0;
      } /* VerbatimString */
      code span.wa {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* Warning */
    </style>
  </head>
  <body>
    <header id="title-block-header">
      <h1 class="title">Plugins</h1>
    </header>
    <p>
      Plugins are the building blocks of features in a Docusaurus 2 site. Each
      plugin handles its own individual feature. Plugins may work and be
      distributed as part of bundle via <a href="presets.md">presets</a>.
    </p>
    <h2 id="available-plugins">Available plugins</h2>
    <p>
      We maintain a
      <a href="./api/plugins/overview.md">list of official plugins</a>, but the
      community has also created some
      <a href="/community/resources#community-plugins">unofficial plugins</a>.
    </p>
    <h2 id="installing-a-plugin">Installing a plugin</h2>
    <p>
      A plugin is usually a npm package, so you install them like other npm
      packages using npm.
    </p>
    <p><code>bash npm2yarn npm install --save docusaurus-plugin-name</code></p>
    <p>
      Then you add it in your site’s <code>docusaurus.config.js</code>’s
      <code>plugins</code> option:
    </p>
    <p>
      <code
        >jsx {3} title="docusaurus.config.js" module.exports = { // ... plugins:
        ['@docusaurus/plugin-content-pages'], };</code
      >
    </p>
    <p>
      Docusaurus can also load plugins from your local directory, you can do
      something like the following:
    </p>
    <p>```jsx {5} title=“docusaurus.config.js” const path = require(‘path’);</p>
    <p>
      module.exports = { // … plugins: [path.resolve(__dirname,
      ‘/path/to/docusaurus-local-plugin’)], }; ```
    </p>
    <h2 id="configuring-plugins">Configuring plugins</h2>
    <p>
      For the most basic usage of plugins, you can provide just the plugin name
      or the absolute path to the plugin.
    </p>
    <p>
      However, plugins can have options specified by wrapping the name and an
      options object in an array inside your config. This style is usually
      called <code>Babel Style</code>.
    </p>
    <p>
      <code
        >js {4-9} title="docusaurus.config.js" module.exports = { // ...
        plugins: [ [ '@docusaurus/plugin-xxx', { /* options */ }, ], ], };</code
      >
    </p>
    <p>Example:</p>
    <p>
      ```js title=“docusaurus.config.js” module.exports = { plugins: [ // Basic
      usage. ‘<span
        class="citation"
        data-cites="docusaurus/plugin-google-analytics"
        >@docusaurus/plugin-google-analytics</span
      >’,
    </p>
    <pre><code>// With options object (babel style)
[
  &#39;@docusaurus/plugin-sitemap&#39;,
  {
    changefreq: &#39;weekly&#39;,
  },
],</code></pre>
    <p>], }; ```</p>
    <h2 id="multi-instance-plugins-and-plugin-ids">
      Multi-instance plugins and plugin ids
    </h2>
    <p>All Docusaurus content plugins can support multiple plugin instances.</p>
    <p>
      The Docs plugin has
      <a href="./guides/docs/docs-multi-instance.mdx"
        >additional multi-instance documentation</a
      >
    </p>
    <p>It is required to assign a unique id to each plugin instance.</p>
    <p>By default, the plugin id is <code>default</code>.</p>
    <p>
      <code
        >js {6,13} title="docusaurus.config.js" module.exports = { plugins: [ [
        '@docusaurus/plugin-xxx', { id: 'plugin-xxx-1', // other options }, ], [
        '@docusaurus/plugin-xxx', { id: 'plugin-xxx-2', // other options }, ],
        ], };</code
      >
    </p>
    <div class="note">
      <p>
        At most one plugin instance can be the “default plugin instance”, by
        omitting the <code>id</code> attribute, or using
        <code>id: 'default'</code>.
      </p>
    </div>
    <h2 id="plugins-design">Plugins design</h2>
    <p>
      Docusaurus’ implementation of the plugins system provides us with a
      convenient way to hook into the website’s lifecycle to modify what goes on
      during development/build, which involves (but not limited to) extending
      the webpack config, modifying the data being loaded and creating new
      components to be used in a page.
    </p>
    <h2 id="creating-plugins">Creating plugins</h2>
    <p>
      A plugin is a module which exports a function that takes two parameters
      and returns an object when executed.
    </p>
    <h3 id="module-definition">Module definition</h3>
    <p>
      The exported modules for plugins are called with two parameters:
      <code>context</code> and <code>options</code> and returns a JavaScript
      object with defining the <a href="./lifecycle-apis.md">lifecycle APIs</a>.
    </p>
    <p>
      For example if you have a reference to a local folder such as this in your
      <code>docusaurus.config.js</code>:
    </p>
    <p>
      <code
        >js title="docusaurus.config.js" module.exports = { // ... plugins:
        [path.resolve(__dirname, 'my-plugin')], };</code
      >
    </p>
    <p>
      Then in the folder <code>my-plugin</code> you can create an index.js such
      as this
    </p>
    <p>
      <code
        >js title="index.js" module.exports = function (context, options) { //
        ... return { name: 'my-docusaurus-plugin', async loadContent() { /* ...
        */ }, async contentLoaded({content, actions}) { /* ... */ }, /* other
        lifecycle API */ }; };</code
      >
    </p>
    <p>
      The <code>my-plugin</code> folder could also be a fully fledged package
      with it’s own package.json and a <code>src/index.js</code> file for
      example
    </p>
    <h4 id="context"><code>context</code></h4>
    <p>
      <code>context</code> is plugin-agnostic and the same object will be passed
      into all plugins used for a Docusaurus website. The
      <code>context</code> object contains the following fields:
    </p>
    <div class="sourceCode" id="cb2">
      <pre
        class="sourceCode ts"
      ><code class="sourceCode typescript"><a class="sourceLine" id="cb2-1" title="1"><span class="kw">interface</span> LoadContext <span class="op">{</span></a>
<a class="sourceLine" id="cb2-2" title="2">  siteDir<span class="op">:</span> <span class="dt">string</span><span class="op">;</span></a>
<a class="sourceLine" id="cb2-3" title="3">  generatedFilesDir<span class="op">:</span> <span class="dt">string</span><span class="op">;</span></a>
<a class="sourceLine" id="cb2-4" title="4">  siteConfig<span class="op">:</span> DocusaurusConfig<span class="op">;</span></a>
<a class="sourceLine" id="cb2-5" title="5">  outDir<span class="op">:</span> <span class="dt">string</span><span class="op">;</span></a>
<a class="sourceLine" id="cb2-6" title="6">  baseUrl<span class="op">:</span> <span class="dt">string</span><span class="op">;</span></a>
<a class="sourceLine" id="cb2-7" title="7"><span class="op">}</span></a></code></pre>
    </div>
    <h4 id="options"><code>options</code></h4>
    <p>
      <code>options</code> are the
      <a href="using-plugins.md#configuring-plugins"
        >second optional parameter when the plugins are used</a
      >. <code>options</code> are plugin-specific and are specified by users
      when they use them in <code>docusaurus.config.js</code>. Alternatively, if
      preset contains the plugin, the preset will then be in charge of passing
      the correct options into the plugin. It is up to individual plugin to
      define what options it takes.
    </p>
    <h4 id="return-value">Return value</h4>
    <p>
      The returned object value should implement the
      <a href="lifecycle-apis.md">lifecycle APIs</a>.
    </p>
  </body>
</html>
